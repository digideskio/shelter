{"name":"Shelter","tagline":"Program to periodically validate and alert domains about DNS or DNSSEC misconfiguration","body":"shelter\r\n=======\r\n\r\nProgram created for registries to periodically validate and alert domains about DNS or\r\nDNSSEC misconfiguration\r\n\r\ninstallation\r\n============\r\n\r\nShelter project depends on the following packages:\r\n* labix.org/v2/mgo\r\n* github.com/miekg/dns\r\n\r\nAll the above packages can be installed using the command:\r\n\r\n```\r\ngo get <package_name>\r\n```\r\n\r\nAll system objects are persisted using a MongoDB database, this NoSQL database was choosen\r\nbecause we can embed dependency objects, and avoid table relations in a relational\r\ndatabase scenario. Without the relations the code is cleaner and the database I/O is\r\nfaster. To install it check the webpage http://www.mongodb.org/\r\n\r\nperformance\r\n===========\r\n\r\nThe domain persistence performance is listed in the table bellow, where \"#\" represents the\r\nnumber of domains used in the operation. Each line was executed 5 times to calculate the\r\naverage time. Also, the \"find\" operation represents 3 object searchs in differents parts\r\nof the range. For this results we are using 1000 concurrent agents (go routines) for\r\ninsert and remove operations, in an Intel Core i7-2600 3.40GHz with 8GiB of memory, using\r\nthe Ubuntu 12.10 (amd64) operational system.\r\n\r\n```\r\n #       | Total           | Insert          | Find         | Remove\r\n-----------------------------------------------------------------------------\r\n 10      |      3.513014ms |      1.442383ms |    558.179us |      1.512109ms\r\n 50      |      7.421929ms |      3.566502ms |    423.251us |      3.431936ms\r\n 100     |     11.027912ms |      4.701412ms |    420.808us |      5.905437ms\r\n 500     |      51.31504ms |     25.217248ms |     799.99us |     25.297463ms\r\n 1000    |     96.370863ms |     46.482595ms |    1.00416ms |     48.883654ms\r\n 5000    |      503.0236ms |    228.404845ms |   1.026406ms |    273.591873ms\r\n 10000   |    1.026367147s |    484.794695ms |   1.475828ms |    540.096072ms\r\n 50000   |    5.030043687s |    2.260250365s |  36.661348ms |    2.733131384s\r\n 100000  |   10.211076193s |    4.500565689s |  36.303439ms |    5.674206572s\r\n 500000  |    56.49850228s |   26.533725121s | 268.502266ms |   29.696274265s\r\n 1000000 | 1m53.999031752s |   52.733993985s | 489.089955ms |  1m0.775947206s\r\n 5000000 | 9m41.845527592s | 4m28.462709335s | 1.976624332s | 5m11.406193319s\r\n```\r\n\r\nNow the network layer that is responsable for sending, receiveing and analyzing the DNS\r\npackages had the performance shown in the table bellow, where \"#\" represents the number of\r\ndomains used in the round of checks and QPS is the number of requests per second that the\r\nsystem could process. For this results were used 400 concurrent queriers (go routines)\r\neach one with an input wait list that can store 100 domains. The hardware used was an\r\nIntel Core i7-2600 3.40GHz with 8GiB of memory, using the Ubuntu 12.10 (amd64) operational\r\nsystem. All the requests were sent to a local DNS server.\r\n\r\n```\r\n #       | Total            | QPS  | Memory (MB)\r\n-----------------------------------------------------\r\n 10      |       2.817312ms |   10 |           1.08\r\n 50      |      14.766817ms |   50 |           1.24\r\n 100     |      25.443762ms |  100 |           1.91\r\n 500     |     1.059420731s |  500 |           4.31\r\n 1000    |     1.054760148s | 1000 |           4.31\r\n 5000    |     2.060903121s | 2500 |           8.07\r\n 10000   |     5.402801345s | 2000 |           9.50\r\n 50000   |    25.349122233s | 2000 |          24.69\r\n 100000  |    49.294494104s | 2040 |          50.19\r\n 500000  |   4m1.158914516s | 2074 |         390.90\r\n 1000000 |  8m16.682795099s | 2016 |         488.53\r\n 5000000 | 42m22.573865695s | 1966 |        4182.01\r\n```\r\n\r\nBellow is the same test but for the root zone file.\r\n\r\n```\r\n #       | Total            | QPS  | Memory (MB)\r\n---------------------------------------------------\r\n 341     |     7.154577009s |   48 |          12.18\r\n\r\nNameserver Status\r\n-----------------\r\n              OK:  92.45%\r\n              UH:  0.16%\r\n        QREFUSED:  0.05%\r\n        NOTSYNCH:  5.11%\r\n        SERVFAIL:  0.11%\r\n            NOAA:  0.05%\r\n         TIMEOUT:  1.63%\r\n        CREFUSED:  0.16%\r\n           ERROR:  0.27%\r\n\r\nDS Status\r\n---------\r\n              OK:  82.50%\r\n          SIGERR:  4.50%\r\n           NOSIG:  5.50%\r\n         TIMEOUT:  5.50%\r\n           NOKEY:  2.00%\r\n```\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}